package com.symteo.global.config;

import com.symteo.domain.home.entity.TodayLines;
import com.symteo.domain.home.repository.TodayLineRepository;
import lombok.RequiredArgsConstructor;
import org.springframework.boot.context.event.ApplicationReadyEvent;
import org.springframework.context.event.EventListener;
import org.springframework.stereotype.Component;
import org.springframework.transaction.annotation.Transactional;

import java.util.List;
import java.util.stream.Collectors;

@Component
@RequiredArgsConstructor
public class TodayLineDataInitializer {

    private final TodayLineRepository todayLineRepository;

    @EventListener(ApplicationReadyEvent.class)
    @Transactional
    public void initTodayLines() {
        if (todayLineRepository.count() == 0) {
            List<String> phrases = List.of(
                    // 1. 지친 마음을 위한 위로와 평온
                    "당신의 속도는 틀리지 않았어요. 나만의 리듬으로 가요.",
                    "완벽하지 않아도 돼요. 지금 모습 그대로도 충분해요.",
                    "힘든 감정이 드는 건, 당신이 그만큼 열심히 살고 있다는 증거예요.",
                    "지금의 시련도 결국 지나가는 계절일 뿐이에요.",
                    "남들에게 베푸는 친절을 나에게도 조금만 나눠주세요.",
                    "넘어졌다면 잠시 누워서 하늘을 봐요. 일어나는 건 나중에도 돼요.",
                    "당신은 혼자가 아니에요. 심터가 늘 곁에 있을게요.",
                    "깊게 숨을 들이마시고, 천천히 내뱉어 보세요. 후우-",
                    "내일의 걱정은 내일의 나에게 잠시 맡겨두기로 해요.",
                    "복잡한 생각의 스위치를 잠시 꺼두는 건 어때요?",
                    "거친 파도도 언젠가는 반드시 잔잔해지기 마련이에요.",
                    "지금 당장 해결하지 못해도 괜찮아요. 시간에게 맡겨봐요.",
                    "당신의 불안은 당신을 해치지 못해요. 그저 지나가는 구름이에요.",
                    "일어날지 모를 일보다, 지금 내 눈앞의 평온에 집중해요.",

                    // 2. 자존감을 높이는 응원
                    "당신은 존재 자체만으로도 누군가에게 큰 기쁨이에요.",
                    "다른 사람의 하이라이트와 나의 비하인드를 비교하지 마요.",
                    "당신 안에 숨겨진 힘은 생각보다 훨씬 강해요.",
                    "실수는 실패가 아니라, 성장하고 있다는 멋진 신호예요.",
                    "세상의 기준이 아닌, 내가 행복한 기준으로 살아가요.",
                    "어제보다 조금 더 나를 아껴주는 하루를 보내봐요.",
                    "당신이 가진 고유한 빛은 절대 사라지지 않아요.",
                    "사소한 성취라도 괜찮아요. 나를 마구 칭찬해 주세요.",
                    "당신은 사랑받기 위해 태어난 소중한 사람이에요.",
                    "나를 믿어주세요. 나는 내가 생각하는 것보다 더 괜찮은 사람이에요.",
                    "꽃마다 피어나는 시기가 다를 뿐, 당신은 반드시 피어날 꽃이에요.",
                    "당신이 걷는 발자국 하나하나가 모두 의미 있는 길이에요.",
                    "누가 뭐라 해도, 당신은 당신 인생의 가장 멋진 주연이에요.",
                    "부족한 점까지 안아주는 것이 진정한 나를 사랑하는 방법이에요.",
                    "거울 속의 나에게 따뜻한 눈빛을 한 번 보내주세요.",
                    "당신의 가치는 타인의 평가로 결정되지 않아요.",
                    "잘하고 있어요. 그리고 앞으로도 분명 잘해낼 거예요.",
                    "당신만이 가진 그 섬세함이 누군가에게는 큰 위로가 돼요.",
                    "스스로를 믿어주는 마음이 가장 강력한 무기랍니다.",
                    "오늘 하루, 나에게 가장 친절한 사람이 되어주기로 해요.",

                    // 3. 관계와 연결의 따뜻함
                    "내 마음을 알아주는 한 person만 있어도 세상은 살만해요.",
                    "말하지 않으면 몰라요. 힘들면 힘들다고 말해도 돼요.",
                    "거절해도 괜찮아요. 나를 지키는 것이 가장 중요하니까요.",
                    "모든 사람에게 사랑받을 필요는 없어요. 내 편이면 충분해요.",
                    "당신의 이야기를 들어줄 누군가가 항상 기다리고 있어요.",
                    "관계에서도 적당한 거리두기는 나를 위한 배려예요.",
                    "좋은 사람은 좋은 사람을 알아보는 법이죠. 바로 당신처럼요.",
                    "서운한 감정은 솔직하게 표현하는 게 건강해요.",
                    "당신의 미소는 누군가의 하루를 밝혀줄 거예요.",
                    "우리는 서로의 따뜻한 온기로 살아가는 존재들이에요.",
                    "당신의 빈자리는 누군가에게 생각보다 아주 크게 느껴질 거예요.",
                    "가끔은 누군가의 어깨에 기대어 쉬어가도 괜찮아요.",
                    "혼자 끙끙 앓기보다 나누면 무게가 반으로 줄어들어요.",
                    "모두를 만족시키려 애쓰지 마요. 당신을 아껴주는 사람들에게 집중해요.",
                    "당신의 다정함은 돌고 돌아 결국 따스한 봄처럼 되돌아올 거예요.",
                    "억지로 맞추지 않아도 돼요. 자연스러운 당신의 모습이 가장 좋아요.",
                    "서툰 표현이라도 괜찮아요. 진심은 반드시 닿게 되어 있으니까요.",
                    "당신은 사랑받을 자격이 충분하고도 넘치는 사람이에요.",
                    "우리는 완벽하지 않아서 서로에게 더 필요한 존재들이에요.",
                    "당신의 안부를 궁금해하는 사람이 이 세상 어딘가에 분명 있어요.",

                    // 4. 희망과 긍정의 메시지
                    "당신의 인생에서 가장 빛나는 날은 아직 오지 않았어요.",
                    "비 온 뒤에 뜨는 무지개처럼, 힘든 뒤엔 좋은 일이 올 거예요.",
                    "길을 잃었다는 건, 새로운 길을 찾을 기회라는 뜻이에요.",
                    "오늘은 어제보다 조금 더 웃을 일이 생길 거예요.",
                    "긍정적인 생각 하나가 하루를 바꿀 수 있어요.",
                    "당신의 꿈을 응원해요. 포기하지 않는 한 끝난 게 아니에요.",
                    "힘든 오늘은 지나가고, 내일은 새로운 태양이 뜰 거예요.",
                    "작은 행복들이 모여 큰 기쁨이 된다는 걸 잊지 마요.",
                    "당신의 앞길에 꽃길만 펼쳐지길 진심으로 바랄게요.",
                    "결국은 다 잘 될 거예요. 당신은 해피엔딩의 주인공이니까요.",
                    "긴 터널의 끝엔 반드시 눈부신 빛이 기다리고 있어요.",
                    "오늘 겪은 어려움이 훗날 당신을 지켜주는 단단한 갑옷이 될 거예요.",
                    "아주 작은 틈새에서도 희망의 새싹은 자라납니다.",
                    "내일은 오늘보다 조금 더 근사한 선물이 기다리고 있을 거예요.",
                    "뜻밖의 행운이 당신의 문을 두드릴지도 몰라요. 활짝 열어두세요.",
                    "지금의 멈춤은 더 높이 뛰어오르기 위한 도움닫기예요.",
                    "당신의 간절한 바람이 우주에 닿아 이루어지고 있어요.",
                    "걱정 마세요, 당신의 이야기는 해피엔딩으로 흘러가고 있으니까요.",
                    "먹구름 뒤에는 항상 따뜻한 태양이 빛나고 있다는 걸 기억해요.",
                    "당신의 모든 순간이 별처럼 빛나는 밤하늘이 되길 응원해요."
            );

            List<TodayLines> entities = phrases.stream()
                    .map(TodayLines::new)
                    .collect(Collectors.toList());

            todayLineRepository.saveAll(entities);
        }
    }
}